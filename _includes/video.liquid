{% assign extension = include.path | split: '.' | last %}

<figure>
  <div class="responsive-video">
    {% if extension == 'mp4' or extension == 'webm' or extension == 'ogg' %}
      <video
        src="{{ include.path }}"
        class="{{ include.class }}"
        {% if include.width %} width="{{ include.width }}" {% endif %}
        {% if include.autoplay %} autoplay {% endif %}
        {% if include.controls %} controls {% endif %}
        {% if include.loop %} loop {% endif %}
        {% if include.muted %} muted {% endif %}
      ></video>
    {% else %}
      <iframe
        src="{{ include.path }}"
        class="{{ include.class }}"
        {% if include.width %} width="{{ include.width }}" {% endif %}
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    {% endif %}
  </div>
  {% if include.caption %}
    <figcaption class="caption">{{ include.caption }}</figcaption>
  {% endif %}
</figure>
